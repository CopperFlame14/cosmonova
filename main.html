<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SpaceConnect - Social Media for Space Enthusiasts</title>
</head>
<body>
    <header>
        <h1>SpaceConnect</h1>
        <nav>
            <ul>
                <li><a href="#home" onclick="showPage('home')">Home</a></li>
                <li><a href="#profile" onclick="showPage('profile')">Profile</a></li>
                <li><a href="#explore" onclick="showPage('explore')">Explore</a></li>
                <li><a href="#messages" onclick="showPage('messages')">Messages</a></li>
            </ul>
        </nav>
        <button id="theme-toggle">üåì</button>
        <img id="profile-picture-header" src="https://via.placeholder.com/40" alt="Profile Picture" onclick="showPage('profile')">
    </header>

    <main>
        <div id="home" class="page active">
            <h2>Home</h2>
            <section id="post-form">
                <h3>Share Your Space Thoughts</h3>
                <textarea id="post-content" placeholder="What's happening in space?"></textarea>
                <input type="file" id="media-upload" accept="image/*, video/*">
                <button id="post-button">Post</button>
            </section>

            <section id="feed">
                <!-- Posts will be dynamically added here -->
            </section>
        </div>

        <div id="profile" class="page">
            <div class="profile-menu">
                <span>‚ãÆ</span>
                <div class="dropdown">
                    <button id="edit-profile-button" onclick="console.log('Edit Profile clicked'); window.location.href='edit-profile.html'">Edit Profile</button>
                </div>
            </div>
            <h2>My Profile</h2>
            <div>
                <img id="profile-picture" src="https://via.placeholder.com/150" alt="Profile Picture">
            </div>
            <textarea id="profile-username" placeholder="username"></textarea>
            <textarea id="profile-bio" placeholder="Write something about yourself..."></textarea>
        </div>

        <div id="explore" class="page">
            <h2>Explore</h2>
            <div class="videos-container">
                <!-- Video Card Template -->
                <div class="video-card" data-id="1">
                    <video
                        class="explore-video"
                        muted
                        controls="false"
                        src="https://www.w3schools.com/html/mov_bbb.mp4"
                        playsinline
                    ></video>
                    <h3>Video 1</h3>

                    <!-- Likes Section -->
                    <div class="likes-section">
                        <button class="like-button">üëç Like</button>
                        <span class="like-count">0 Likes</span>
                    </div>

                    <!-- Comments Section -->
                    <div class="comments-section">
                        <h4>Comments</h4>
                        <ul class="comments-list"></ul>
                        <input
                            type="text"
                            class="comment-input"
                            placeholder="Add a comment and press Enter"
                        />
                    </div>
                </div>

                <!-- Add more video cards as needed -->
                <div class="video-card" data-id="2">
                    <video
                        class="explore-video"
                        muted
                        controls="false"
                        src="https://www.w3schools.com/html/movie.mp4"
                        playsinline
                    ></video>
                    <h3>Video 2</h3>

                    <!-- Likes Section -->
                    <div class="likes-section">
                        <button class="like-button">üëç Like</button>
                        <span class="like-count">0 Likes</span>
                    </div>

                    <!-- Comments Section -->
                    <div class="comments-section">
                        <h4>Comments</h4>
                        <ul class="comments-list"></ul>
                        <input
                            type="text"
                            class="comment-input"
                            placeholder="Add a comment and press Enter"
                        />
                    </div>
                </div>
            </div>
        </div>

        <div id="messages" class="page">
            <h2>Messages</h2>
            <div id="chat-container">
                <div id="chat-window">
                    <!-- Chat messages will appear here -->
                </div>
                <div id="chat-input-container">
                    <input type="text" id="chat-input" placeholder="Type your message..." />
                    <button id="send-button">Send</button>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 SpaceConnect. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const postButton = document.getElementById('post-button');
            const postContent = document.getElementById('post-content');
            const mediaUpload = document.getElementById('media-upload');
            const feed = document.getElementById('feed');

            // Handle post creation
            postButton.addEventListener('click', () => {
                const content = postContent.value.trim();
                const file = mediaUpload.files[0];

                if (content || file) {
                    addPost(content, file);
                    postContent.value = '';
                    mediaUpload.value = '';
                } else {
                    alert('Please add a caption or upload a picture/video.');
                }
            });

            // Add a new post
            function addPost(content, file) {
                const post = document.createElement('div');
                post.className = 'post';

                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        if (file.type.startsWith('image')) {
                            post.innerHTML = `
                                <img src="${e.target.result}" alt="Uploaded Image">
                                <p>${content}</p>
                                <small>Posted on ${new Date().toLocaleString()}</small>
                            `;
                        } else if (file.type.startsWith('video')) {
                            post.innerHTML = `
                                <video controls>
                                    <source src="${e.target.result}" type="${file.type}">
                                    Your browser does not support the video tag.
                                </video>
                                <p>${content}</p>
                                <small>Posted on ${new Date().toLocaleString()}</small>
                            `;
                        }
                        feed.prepend(post);
                    };
                    reader.readAsDataURL(file);
                } else {
                    post.innerHTML = `
                        <p>${content}</p>
                        <small>Posted on ${new Date().toLocaleString()}</small>
                    `;
                    feed.prepend(post);
                }
            }

            // Sample posts
            addPost("Just watched the SpaceX launch. Amazing!", null);
            addPost("Who's excited for the next Mars rover mission?", null);

            // Theme Toggle
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;

            themeToggle.addEventListener('click', () => {
                const isDarkTheme = body.getAttribute('data-theme') === 'dark';
                body.setAttribute('data-theme', isDarkTheme ? 'light' : 'dark');
                themeToggle.textContent = isDarkTheme ? 'üåì':'üåû';
            });

            // Three-dot menu for profile editing
            const profileMenu = document.querySelector('.profile-menu');
            const editProfileButton = document.getElementById('edit-profile-button');

            profileMenu.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent the click from closing the dropdown immediately
                profileMenu.classList.toggle('active');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', () => {
                profileMenu.classList.remove('active');
            });

            // Like Button Functionality
            const likeButtons = document.querySelectorAll('.like-button');

            likeButtons.forEach((button) => {
                let isLiked = false; // Track whether the user has liked the post

                button.addEventListener('click', () => {
                    const likeCount = button.nextElementSibling; // The span containing the like count
                    let currentLikes = parseInt(likeCount.textContent); // Get the current like count

                    if (isLiked) {
                        // If already liked, decrease the like count
                        currentLikes--;
                        button.textContent = 'üëç Like'; // Reset the button text
                    } else {
                        // If not liked, increase the like count
                        currentLikes++;
                        button.textContent = 'üëé Unlike'; // Change the button text
                    }

                    likeCount.textContent = `${currentLikes} Likes`; // Update the like count display
                    isLiked = !isLiked; // Toggle the like state
                });
            });
        });

        // Show the selected page
        function showPage(pageId) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Load saved profile data
            const savedUsername = localStorage.getItem('username');
            const savedBio = localStorage.getItem('bio');
            const savedProfilePicture = localStorage.getItem('profilePicture');

            if (savedUsername) {
                document.getElementById('profile-bio').value = savedBio;
            }

            if (savedProfilePicture) {
                document.getElementById('profile-picture').src = savedProfilePicture;
                document.getElementById('profile-picture-header').src = savedProfilePicture;
            }

            if(savedUsername){
                document.getElementById('profile-username').value=savedUsername;
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const chatWindow = document.getElementById('chat-window');
            const chatInput = document.getElementById('chat-input');
            const sendButton = document.getElementById('send-button');

            // Function to add a message to the chat window
            function addMessage(sender, text) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}`;
                messageDiv.innerHTML = `<p>${text}</p>`;
                chatWindow.appendChild(messageDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight; // Auto-scroll to the latest message
            }

            // Function to simulate AI response
            function getAIResponse(userMessage) {
                // Simple hardcoded responses for demonstration
                const responses = [
                    "That's fascinating! Tell me more.",
                    "I'm not sure I understand. Can you elaborate?",
                    "Interesting! What do you think about space exploration?",
                    "Wow, that's amazing! How did you learn about that?",
                    "I love talking about space! What's your favorite planet?",
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }

            // Handle sending a message
            sendButton.addEventListener('click', () => {
                const userMessage = chatInput.value.trim();
                if (userMessage) {
                    addMessage('user', userMessage);
                    chatInput.value = ''; // Clear the input field

                    // Simulate AI response after a short delay
                    setTimeout(() => {
                        const aiResponse = getAIResponse(userMessage);
                        addMessage('ai', aiResponse);
                    }, 1000);
                }
            });

            // Allow pressing Enter to send a message
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendButton.click(); // Trigger the send button click event
                }
            });

            // Add a welcome message from the AI
            addMessage('ai', "Hi! I'm your SpaceConnect AI. How can I assist you today?");
        });
        // Function to handle adding comments in the explore section
function setupCommentFunctionality() {
    const commentInputs = document.querySelectorAll('.comment-input');

    commentInputs.forEach((input) => {
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const commentText = input.value.trim();
                if (commentText) {
                    const commentsList = input.closest('.comments-section').querySelector('.comments-list');
                    const newComment = document.createElement('li');
                    newComment.textContent = commentText;
                    commentsList.appendChild(newComment);
                    input.value = ''; // Clear the input field
                }
            }
        });
    });
}

// Call the function to set up comment functionality
setupCommentFunctionality();
    </script>
</body>
</html>
